# A0141052Y
###### /java/guitests/AddCommandTest.java
``` java
    private TestTask[] assertAddRecurringSuccess(int numTimes, TestTask taskToAdd, TestTask... currentList) {
        commandBox.runCommand(taskToAdd.getAddCommand() + " recurs " + numTimes);
        
        TestTask[] expectedList = currentList.clone();
        
        //confirm that instances have same distance and the other properties are same
        for (int i = 0; i <= numTimes; i++) {
            TestTask recurringTask = new TestTask(taskToAdd); // insulate the passed TestTask from changes
            
            DateTime newOpenTime = DateTime.fromDateTimeOffset(taskToAdd.getOpenTime(), i * 7, ChronoUnit.DAYS);
            DateTime newCloseTime = DateTime.fromDateTimeOffset(taskToAdd.getCloseTime(), i * 7, ChronoUnit.DAYS);
            
            recurringTask.setOpenTime(newOpenTime);
            recurringTask.setCloseTime(newCloseTime);
            
            TaskCardHandle addedCard = taskListPanel.navigateToTask(recurringTask);
            assertMatching(recurringTask, addedCard);
            
            expectedList = TestUtil.addTasksToList(expectedList, recurringTask);
        }
        
        //assert that the listing is correct after checking individually
        assertTrue(taskListPanel.isListMatching(expectedList));
        
        return expectedList;
    }

}
```
###### /java/guitests/SearchCommandTest.java
``` java
package guitests;

import static org.junit.Assert.assertTrue;

import org.junit.Test;

import seedu.task.testutil.TestTask;

public class SearchCommandTest extends TaskManagerGuiTest {
    @Test
    public void search() {
        TestTask[] currentList = td.getTypicalTasks();
        
        // test search no name
        assertSearchResult("", currentList);

        // test search full name
        assertSearchResult(td.daniel.getName().taskName, td.daniel);
        
        // test search partial name
        assertSearchResult("Have lunch", td.daniel);
        
        // test search no results
        assertSearchResult("this does not exist");
    }
    
    private void resetCommandBox() {
        commandBox.pressEnter();
    }
    
    private void assertSearchResult(String query, TestTask... expectedHits ) {
        commandBox.runCommand("searchbox");
        commandBox.enterCommand(query);
        assertListSize(expectedHits.length);
        assertTrue(taskListPanel.isListMatching(expectedHits));
        
        commandBox.runCommand(query);
        assertListSize(expectedHits.length);
        assertTrue(taskListPanel.isListMatching(expectedHits));
        
        resetCommandBox();
    }
}
```
###### /java/seedu/task/logic/LogicManagerTest.java
``` java
    @Subscribe
    private void handleSwitchCommandBoxFunctionEvent(SwitchCommandBoxFunctionEvent evt) {
        hasSwitchedToSearch = true;
    }

```
###### /java/seedu/task/logic/LogicManagerTest.java
``` java
    /**
     * Tests the preset filter logic for pinned tasks
     */
    @Test
    public void execute_list_showsPinnedTasks() throws Exception {
        // prepare tasks
        TestDataHelper helper = new TestDataHelper();
        
        Task pinned1 = helper.generateTaskWithName("Pinned");
        pinned1.setIsImportant(true);
        Task pinned2 = helper.generateTaskWithName("Pinned Too");
        pinned2.setIsImportant(true);
        List<Task> pinnedTasks = helper.generateTaskList(pinned1, pinned2);
        
        assertCommandFilteredList("list pinned",
                ListCommand.MESSAGE_SUCCESS,
                pinnedTasks,
                false);
    }
    
    /**
     * Test the preset filter logic for completed tasks
     */
    @Test
    public void execute_list_showsCompletedTasks() throws Exception {
        // prepare tasks
        TestDataHelper helper = new TestDataHelper();
        
        Task complete1 = helper.generateTaskWithName("Completed");
        complete1.setIsCompleted(true);
        Task complete2 = helper.generateTaskWithName("Completed Also");
        complete2.setIsCompleted(true);
        List<Task> completedTasks = helper.generateTaskList(complete1, complete2);
        
        assertCommandFilteredList("list completed",
                ListCommand.MESSAGE_SUCCESS,
                completedTasks,
                false);
    }
    
    @Test
    public void execute_list_showsPendingTasks() throws Exception {
        // prepare tasks
        TestDataHelper helper = new TestDataHelper();
        
        Task complete1 = helper.generateTaskWithName("Completed");
        complete1.setIsCompleted(true);
        Task complete2 = helper.generateTaskWithName("Completed Also");
        complete2.setIsCompleted(true);
        List<Task> completedTasks = helper.generateTaskList(complete1, complete2);
        
        assertCommandFilteredList("list pending",
                ListCommand.MESSAGE_SUCCESS,
                completedTasks,
                true);
    }
    
    /**
     * Confirms if execution of the command results in a list that only contains a subset of the list.
     * @param command the command on test
     * @param message the expected message to be displayed to the user upon execution of command
     * @param taskList non-generated list of tasks in the task list
     * @param isInverse if true, it will assert if taskList if NOT displayed, else only taskList is displayed
     */
    private void assertCommandFilteredList(String command, String message, List<Task> taskList, boolean isInverse) throws Exception {
        // prepare initial state
        TestDataHelper helper = new TestDataHelper();
        helper.addToModel(model, 10);
        helper.addToModel(model, taskList);

        // prepare expected
        ReadOnlyTaskManager expectedTaskManager = model.getTaskManager();
        List<Task> expectedTaskList = (isInverse) ? helper.generateTaskList(10) : taskList;
        
        assertCommandBehavior(command, message, expectedTaskManager, expectedTaskList);
    }
    
```
###### /java/seedu/task/logic/LogicManagerTest.java
``` java
    @Test
    public void execute_find_swithCommandBoxInitiated() throws Exception {
        assertCommandBehavior("searchbox", SearchCommand.MESSAGE_SEARCH_SUCCESS);
        assertTrue(hasSwitchedToSearch);
    }
```
###### /java/seedu/task/testutil/TestTask.java
``` java
    /**
     * Creates a duplicate (copy) of an existing TestTask
     * @param task the TestTask to copy from
     */
    public TestTask(TestTask task) {
        this.name = task.getName();
        this.openTime = task.getOpenTime();
        this.closeTime = task.getCloseTime();
        this.isCompleted = task.getComplete();
        this.isImportant = task.getImportance();
        this.tags = new UniqueTagList(task.getTags());
    }
```
